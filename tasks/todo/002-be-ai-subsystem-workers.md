# AI-подсистема и фоновые воркеры

## Цель (Value)
- **Для системы:** Создать масштабируемую и отказоустойчивую инфраструктуру для выполнения ресурсоемких AI-задач (embedding, NER, верификация источников, переводы), не блокируя основной поток выполнения приложения.
- **Для пользователя:** Обеспечить работу продвинутых функций, таких как семантический поиск, автоматическое связывание концептов и проверка достоверности информации, что повышает качество и удобство использования платформы.

## Требования (Requirements)
1.  **Инфраструктура для моделей:** Подготовить и задокументировать окружение для запуска локальных AI-моделей (например, Qwen), включая управление зависимостями и ресурсами (GPU).
2.  **Очередь задач:** Реализовать систему асинхронных фоновых задач для AI-операций. Система должна поддерживать:
    -   Очереди для разных типов задач.
    -   Механизмы повторного выполнения (ретраи) в случае сбоев.
    -   Мониторинг статусов задач (в очереди, в работе, выполнена, ошибка).
3.  **Пайплайны AI-задач:** Настроить и протестировать сквозные пайплайны для следующих операций:
    -   **Embedding:** Преобразование текста в семантические векторы.
    -   **NER (Named Entity Recognition):** Распознавание и связывание именованных сущностей.
    -   **Верификация источников:** Автоматическая проверка доступности и релевантности URL-источников.
    -   **Автоматические переводы:** Перевод текста на другие языки.
4.  **Управление и мониторинг:** Предоставить API и/или административный интерфейс для базового управления AI-задачами (просмотр статусов, ручной перезапуск).

## Критерии приёмки (Acceptance Criteria)
- Для каждого типа AI-задачи реализован отдельный, изолированный воркер.
- Разработаны и пройдены тестовые сценарии для каждого пайплайна, подтверждающие корректность их работы.
- Результаты выполнения AI-задач сохраняются в базу данных, а их статусы доступны через API.
- Документация подробно описывает процесс настройки окружения, установки моделей и запуска воркеров.
- Настроены базовые механизмы алертинга и автоматического ретрая для сбойных задач.

## Ограничения (Constraints)
- В рамках этой задачи не создается сложный UI для управления задачами. Предполагается создание минимально необходимого API или интеграция с готовым дашбордом.
- Оптимизация производительности моделей и пайплайнов выходит за рамки данной задачи и будет выполняться итерационно.
